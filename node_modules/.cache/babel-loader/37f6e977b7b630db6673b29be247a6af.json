{"ast":null,"code":"var _jsxFileName = \"D:\\\\NodejsProject\\\\todolist\\\\client\\\\src\\\\components\\\\ScheduleFormCUD.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ScheduleType from \"./ScheduleType\";\nimport ScheduleStatus from \"./ScheduleStatus\";\nimport ToDoListDatePicker from './ToDoListDatePicker';\nimport ToDoListTimePicker from './ToDoListTimePicker.js';\nimport axios from 'axios';\nimport { fil } from 'date-fns/locale';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ScheduleFormCUD(props) {\n  _s();\n\n  let selectedTime = props.mode === \"create\" ? new Date() : new Date(props.rowdata.date + \" \" + props.rowdata.time);\n  let disabled;\n  let formTitle;\n\n  if (props.mode === \"create\") {\n    disabled = false;\n    formTitle = \"New Schedule\";\n  } else if (props.mode === \"show\") {\n    disabled = true;\n    formTitle = \"View Schedule\";\n  } else if (props.mode === \"update\") {\n    formTitle = \"Edit Schedule\";\n  }\n\n  const [inputs, setInputs] = useState({\n    title: props.mode === \"create\" ? \"\" : props.rowdata.tile,\n    contents: props.mode === \"create\" ? \"\" : props.rowdata.contents,\n    type: props.mode === \"create\" ? \"plan\" : props.rowdata.type,\n    status: props.mode === \"create\" ? \"notyet\" : props.rowdata.status\n  });\n  const {\n    title,\n    contents,\n    type,\n    status\n  } = inputs;\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputs({ ...inputs,\n      [name]: value\n    });\n  };\n\n  const changeTime = newTime => {\n    selectedTime = newTime;\n  };\n\n  const createSchedule = () => {\n    const fillZero = num => num < 10 && num >= 0 ? \"0\" + num : num;\n\n    let date = props.selectedDate.getFullYear() + \"-\" + fillZero(props.selectedDate.getMonth() + 1) + \"-\" + fillZero(props.selectedDate.getDate());\n    let time = fillZero(selectedTime.getHours()) + \":\" + fillZero(selectedTime.getMinutes());\n    axios.post('http://localhost:3001/todolist/create', {\n      date: date,\n      time: time,\n      title: title,\n      contents: contents,\n      type: type,\n      status: status\n    }).then(response => {\n      props.setLisOrForm(\"list\");\n      console.log(\"Created...\");\n    });\n  };\n\n  const updateSchedule = () => {\n    const fillZero = num => num < 10 && num >= 0 ? \"0\" + num : num;\n\n    let date = props.selectedDate.getFullYear() + \"-\" + fillZero(props.selectedDate.getMonth() + 1) + \"-\" + fillZero(props.selectedDate.getDate());\n    let time = fillZero(selectedTime.getHours()) + \":\" + fillZero(selectedTime.getMinutes());\n    axios.put('http://localhost:3001/todolist/update', {\n      id: props.rowdata.id,\n      date: date,\n      time: time,\n      title: title,\n      contents: contents,\n      type: type,\n      status: status\n    }).then(response => {\n      props.setListOrForm(\"list\");\n      console.log(\"Updated.....\");\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const deleteSchedule = () => {\n    axios.delete('http://localhost:3001/todolist/delete', {\n      params: {\n        id: props.rowdata.id\n      }\n    }).then(response => {\n      props.setListOrForm(\"list\");\n      console.log(\"deleted...\");\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const setList = () => {\n    props.setListOrForm(\"list\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: formTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(ToDoListDatePicker, {\n                selectedDate: props.selectedDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(ToDoListTimePicker, {\n                selectedTime: selectedTime,\n                onChange: changeTime,\n                disabled: disabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Title\",\n            name: \"title\",\n            value: title,\n            variant: \"outlined\",\n            style: {\n              width: \"100%\",\n              margin: \"20px 0px 0px\"\n            },\n            onChange: onChange,\n            disabled: disabled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Contents\",\n            name: \"contents\",\n            variant: \"outlined\",\n            multiline: true,\n            value: contents,\n            rows: 10,\n            style: {\n              width: \"100%\",\n              margin: \"20px 0px 0px\"\n            },\n            onChanage: onChange // disabled={disabled}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"20px 0px 0px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(ScheduleType, {\n                type: type,\n                onChange: onChange,\n                disabled: disabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(ScheduleStatus, {\n                status: status,\n                onChnage: onChange,\n                disabled: disabled\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        margin: \"30px 0px 30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        style: props.mode === \"create\" ? {\n          marginRight: \"20px\"\n        } : {\n          display: \"none\"\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: createSchedule,\n        children: \"\\uC800\\uC7A5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: props.mode === \"show\" ? {\n          marginRight: \"20px\"\n        } : {\n          display: \"none\"\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: props.setUpdateMode,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: props.mode === \"show\" ? {\n          marginRight: \"20px\"\n        } : {\n          display: \"none\"\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: deleteSchedule,\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: props.mode === \"update\" ? {\n          marginRight: \"20px\"\n        } : {\n          display: \"none\"\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: updateSchedule,\n        children: \"\\uC800\\uC7A5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: setList,\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ScheduleFormCUD, \"CwTgnGGez9ops6uQ8kx6oNfIPWE=\");\n\n_c = ScheduleFormCUD;\n\nvar _c;\n\n$RefreshReg$(_c, \"ScheduleFormCUD\");","map":{"version":3,"sources":["D:/NodejsProject/todolist/client/src/components/ScheduleFormCUD.js"],"names":["React","useState","TextField","Grid","Button","ScheduleType","ScheduleStatus","ToDoListDatePicker","ToDoListTimePicker","axios","fil","ScheduleFormCUD","props","selectedTime","mode","Date","rowdata","date","time","disabled","formTitle","inputs","setInputs","title","tile","contents","type","status","onChange","e","name","value","target","changeTime","newTime","createSchedule","fillZero","num","selectedDate","getFullYear","getMonth","getDate","getHours","getMinutes","post","then","response","setLisOrForm","console","log","updateSchedule","put","id","setListOrForm","catch","error","deleteSchedule","delete","params","setList","width","margin","display","justifyContent","marginRight","setUpdateMode"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport ScheduleType from \"./ScheduleType\";\r\nimport ScheduleStatus from \"./ScheduleStatus\";\r\nimport ToDoListDatePicker from './ToDoListDatePicker';\r\nimport ToDoListTimePicker from './ToDoListTimePicker.js';\r\nimport axios from 'axios';\r\nimport { fil } from 'date-fns/locale';\r\n\r\nexport default function ScheduleFormCUD(props) {\r\n\r\n    let selectedTime = (props.mode === \"create\") ? new Date() : new Date(props.rowdata.date + \" \" + props.rowdata.time);\r\n    let disabled;\r\n    let formTitle;\r\n\r\n    if(props.mode === \"create\") {\r\n        disabled = false;\r\n        formTitle = \"New Schedule\";\r\n    }\r\n    else if(props.mode === \"show\"){\r\n        disabled = true;\r\n        formTitle = \"View Schedule\";\r\n    }\r\n    else if(props.mode === \"update\"){\r\n        formTitle = \"Edit Schedule\";\r\n    }\r\n\r\n    const [inputs, setInputs] = useState({\r\n        title: (props.mode === \"create\") ? \"\" : props.rowdata.tile,\r\n        contents: (props.mode === \"create\") ? \"\" : props.rowdata.contents,\r\n        type: (props.mode === \"create\" ) ? \"plan\" : props.rowdata.type,\r\n        status: (props.mode === \"create\") ? \"notyet\" : props.rowdata.status\r\n    });\r\n\r\n    const {title, contents, type, status} = inputs;\r\n\r\n    const onChange = (e) => {\r\n        const {name, value} = e.target;\r\n\r\n        setInputs({\r\n            ...inputs,\r\n            [name] : value\r\n        });\r\n    }\r\n\r\n    const changeTime = (newTime) => {\r\n        selectedTime = newTime;\r\n    }\r\n\r\n    const createSchedule = () => {\r\n\r\n        const fillZero = (num) => num<10 && num>=0 ? \"0\" + num : num;\r\n\r\n        let date = props.selectedDate.getFullYear()+ \"-\" +\r\n                    fillZero(props.selectedDate.getMonth()+1) + \"-\" +\r\n                    fillZero(props.selectedDate.getDate());\r\n\r\n        let time = fillZero(selectedTime.getHours())+\":\"+\r\n                    fillZero(selectedTime.getMinutes());\r\n\r\n        axios.post('http://localhost:3001/todolist/create', {\r\n            date: date,\r\n            time: time,\r\n            title: title,\r\n            contents: contents,\r\n            type: type,\r\n            status: status\r\n        })\r\n        .then((response) =>{\r\n            props.setLisOrForm(\"list\");\r\n            console.log(\"Created...\");\r\n        });\r\n    }\r\n\r\n    const updateSchedule = () => {\r\n        const fillZero = (num) => num<10 && num>=0 ? \"0\" + num : num;\r\n\r\n        let date = props.selectedDate.getFullYear()+ \"-\" +\r\n                    fillZero(props.selectedDate.getMonth()+1) + \"-\" +\r\n                    fillZero(props.selectedDate.getDate());\r\n\r\n        let time = fillZero(selectedTime.getHours())+\":\"+\r\n                    fillZero(selectedTime.getMinutes());\r\n\r\n        axios.put('http://localhost:3001/todolist/update', {\r\n            id: props.rowdata.id,\r\n            date: date,\r\n            time: time,\r\n            title: title,\r\n            contents: contents,\r\n            type: type,\r\n            status: status\r\n        })\r\n        .then((response) => {\r\n            props.setListOrForm(\"list\");\r\n            console.log(\"Updated.....\");\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n\r\n    }\r\n\r\n    const deleteSchedule = () => {\r\n        axios.delete('http://localhost:3001/todolist/delete', {\r\n            params: {\r\n                id: props.rowdata.id\r\n            }\r\n        })\r\n        .then(response => {\r\n            props.setListOrForm(\"list\");\r\n            console.log(\"deleted...\");\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    const setList = () => {\r\n        props.setListOrForm(\"list\");\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div>\r\n                    <h1>{formTitle}</h1>\r\n                </div>\r\n                <form>\r\n                    <div>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={12} md={6}>\r\n                                <ToDoListDatePicker selectedDate = {props.selectedDate} /> \r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <ToDoListTimePicker selectedTime = {selectedTime} onChange = {changeTime} disabled = {disabled} />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            label=\"Title\"\r\n                            name=\"title\"\r\n                            value={title}\r\n                            variant=\"outlined\"\r\n                            style={{width: \"100%\", margin: \"20px 0px 0px\"}}\r\n                            onChange={onChange}\r\n                            disabled={disabled}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            label=\"Contents\"\r\n                            name=\"contents\"\r\n                            variant=\"outlined\"\r\n                            multiline={true}\r\n                            value={contents}\r\n                            rows={10}\r\n                            style={{width: \"100%\", margin: \"20px 0px 0px\"}}\r\n                            onChanage={onChange}\r\n                            // disabled={disabled}\r\n                        />\r\n                    </div>\r\n                    <div style={{margin: \"20px 0px 0px\"}}>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={12} md={6}>\r\n                                <ScheduleType type={type} onChange={onChange} disabled={disabled}/>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <ScheduleStatus status={status} onChnage={onChange} disabled={disabled}/>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div style={{display: \"flex\", justifyContent: \"center\", margin: \"30px 0px 30px\"}}>\r\n                <Button\r\n                    style={(props.mode === \"create\" ) ? {marginRight: \"20px\"} : {display: \"none\"}}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={createSchedule}\r\n                >\r\n                    저장\r\n                </Button>\r\n                <Button\r\n                    style={(props.mode === \"show\" ) ? {marginRight: \"20px\"} : {display: \"none\"}}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={props.setUpdateMode}\r\n                >\r\n                    수정\r\n                </Button>\r\n                <Button\r\n                    style={(props.mode === \"show\" ) ? {marginRight: \"20px\"} : {display: \"none\"}}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={deleteSchedule}\r\n                >\r\n                    삭제\r\n                </Button>\r\n                <Button\r\n                    style={(props.mode === \"update\" ) ? {marginRight: \"20px\"} : {display: \"none\"}}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={updateSchedule}\r\n                >\r\n                    저장\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={setList}\r\n                >\r\n                   취소\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}